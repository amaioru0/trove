gyp info it worked if it ends with ok
gyp info using node-gyp@8.3.0
gyp info using node@16.13.1 | linux | x64
gyp info find Python using Python version 3.9.2 found at "/usr/bin/python3"
gyp info spawn /usr/bin/python3
gyp info spawn args [
gyp info spawn args   '/usr/lib/node_modules/npm/node_modules/node-gyp/gyp/gyp_main.py',
gyp info spawn args   'binding.gyp',
gyp info spawn args   '-f',
gyp info spawn args   'make',
gyp info spawn args   '-I',
gyp info spawn args   '/home/work/trove/indexer/node_modules/mongoose-tree/node_modules/bson/build/config.gypi',
gyp info spawn args   '-I',
gyp info spawn args   '/usr/lib/node_modules/npm/node_modules/node-gyp/addon.gypi',
gyp info spawn args   '-I',
gyp info spawn args   '/root/.cache/node-gyp/16.13.1/include/node/common.gypi',
gyp info spawn args   '-Dlibrary=shared_library',
gyp info spawn args   '-Dvisibility=default',
gyp info spawn args   '-Dnode_root_dir=/root/.cache/node-gyp/16.13.1',
gyp info spawn args   '-Dnode_gyp_dir=/usr/lib/node_modules/npm/node_modules/node-gyp',
gyp info spawn args   '-Dnode_lib_file=/root/.cache/node-gyp/16.13.1/<(target_arch)/node.lib',
gyp info spawn args   '-Dmodule_root_dir=/home/work/trove/indexer/node_modules/mongoose-tree/node_modules/bson',
gyp info spawn args   '-Dnode_engine=v8',
gyp info spawn args   '--depth=.',
gyp info spawn args   '--no-parallel',
gyp info spawn args   '--generator-output',
gyp info spawn args   'build',
gyp info spawn args   '-Goutput_dir=.'
gyp info spawn args ]
gyp info spawn make
gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ]
In file included from ../ext/bson.cc:35:
../ext/bson.h:55:25: error: ‘Handle’ has not been declared
   55 |  static void Initialize(Handle<Object> target);
      |                         ^~~~~~
../ext/bson.h:55:31: error: expected ‘,’ or ‘...’ before ‘<’ token
   55 |  static void Initialize(Handle<Object> target);
      |                               ^
../ext/bson.h:56:9: error: ‘Handle’ does not name a type
   56 |  static Handle<Value> BSONDeserializeStream(const Arguments &args);
      |         ^~~~~~
../ext/bson.h:59:9: error: ‘Handle’ does not name a type
   59 |  static Handle<Value> BSONSerialize(const Arguments &args);
      |         ^~~~~~
../ext/bson.h:60:9: error: ‘Handle’ does not name a type
   60 |  static Handle<Value> BSONDeserialize(const Arguments &args);
      |         ^~~~~~
../ext/bson.h:63:9: error: ‘Handle’ does not name a type
   63 |  static Handle<Value> CalculateObjectSize(const Arguments &args);
      |         ^~~~~~
../ext/bson.h:64:9: error: ‘Handle’ does not name a type
   64 |  static Handle<Value> SerializeWithBufferAndIndex(const Arguments &args);
      |         ^~~~~~
../ext/bson.h:70:9: error: ‘Handle’ does not name a type
   70 |  static Handle<Value> New(const Arguments &args);
      |         ^~~~~~
../ext/bson.h:71:9: error: ‘Handle’ does not name a type
   71 |  static Handle<Value> deserialize(BSON *bson, char *data, uint32_t dataLength, uint32_t startIndex, bool is_array_item);
      |         ^~~~~~
../ext/bson.h:119:41: error: ‘Handle’ does not name a type
  119 |  Local<Object> GetSerializeObject(const Handle<Value>& object);
      |                                         ^~~~~~
../ext/bson.h:119:47: error: expected ‘,’ or ‘...’ before ‘<’ token
  119 |  Local<Object> GetSerializeObject(const Handle<Value>& object);
      |                                               ^
../ext/bson.h:133:23: error: ‘Handle’ does not name a type
  133 |  void WriteByte(const Handle<Object>&, const Handle<String>&) { ++count; }
      |                       ^~~~~~
../ext/bson.h:133:29: error: expected ‘,’ or ‘...’ before ‘<’ token
  133 |  void WriteByte(const Handle<Object>&, const Handle<String>&) { ++count; }
      |                             ^
../ext/bson.h:133:7: error: ‘void CountStream::WriteByte(int)’ cannot be overloaded with ‘void CountStream::WriteByte(int)’
  133 |  void WriteByte(const Handle<Object>&, const Handle<String>&) { ++count; }
      |       ^~~~~~~~~
../ext/bson.h:132:7: note: previous declaration ‘void CountStream::WriteByte(int)’
  132 |  void WriteByte(int value)         { ++count; }
      |       ^~~~~~~~~
../ext/bson.h:134:23: error: ‘Handle’ does not name a type
  134 |  void WriteBool(const Handle<Value>& value)     { ++count; }
      |                       ^~~~~~
../ext/bson.h:134:29: error: expected ‘,’ or ‘...’ before ‘<’ token
  134 |  void WriteBool(const Handle<Value>& value)     { ++count; }
      |                             ^
../ext/bson.h:136:24: error: ‘Handle’ does not name a type
  136 |  void WriteInt32(const Handle<Value>& value)     { count += 4; }
      |                        ^~~~~~
../ext/bson.h:136:30: error: expected ‘,’ or ‘...’ before ‘<’ token
  136 |  void WriteInt32(const Handle<Value>& value)     { count += 4; }
      |                              ^
../ext/bson.h:136:7: error: ‘void CountStream::WriteInt32(int)’ cannot be overloaded with ‘void CountStream::WriteInt32(int32_t)’
  136 |  void WriteInt32(const Handle<Value>& value)     { count += 4; }
      |       ^~~~~~~~~~
../ext/bson.h:135:7: note: previous declaration ‘void CountStream::WriteInt32(int32_t)’
  135 |  void WriteInt32(int32_t value)        { count += 4; }
      |       ^~~~~~~~~~
../ext/bson.h:137:24: error: ‘Handle’ does not name a type
  137 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { count += 4; }
      |                        ^~~~~~
../ext/bson.h:137:30: error: expected ‘,’ or ‘...’ before ‘<’ token
  137 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { count += 4; }
      |                              ^
../ext/bson.h:137:7: error: ‘void CountStream::WriteInt32(int)’ cannot be overloaded with ‘void CountStream::WriteInt32(int32_t)’
  137 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { count += 4; }
      |       ^~~~~~~~~~
../ext/bson.h:135:7: note: previous declaration ‘void CountStream::WriteInt32(int32_t)’
  135 |  void WriteInt32(int32_t value)        { count += 4; }
      |       ^~~~~~~~~~
../ext/bson.h:139:24: error: ‘Handle’ does not name a type
  139 |  void WriteInt64(const Handle<Value>& value)     { count += 8; }
      |                        ^~~~~~
../ext/bson.h:139:30: error: expected ‘,’ or ‘...’ before ‘<’ token
  139 |  void WriteInt64(const Handle<Value>& value)     { count += 8; }
      |                              ^
../ext/bson.h:141:25: error: ‘Handle’ does not name a type
  141 |  void WriteDouble(const Handle<Value>& value)     { count += 8; }
      |                         ^~~~~~
../ext/bson.h:141:31: error: expected ‘,’ or ‘...’ before ‘<’ token
  141 |  void WriteDouble(const Handle<Value>& value)     { count += 8; }
      |                               ^
../ext/bson.h:142:25: error: ‘Handle’ does not name a type
  142 |  void WriteDouble(const Handle<Object>&, const Handle<String>&) { count += 8; }
      |                         ^~~~~~
../ext/bson.h:142:31: error: expected ‘,’ or ‘...’ before ‘<’ token
  142 |  void WriteDouble(const Handle<Object>&, const Handle<String>&) { count += 8; }
      |                               ^
../ext/bson.h:142:7: error: ‘void CountStream::WriteDouble(int)’ cannot be overloaded with ‘void CountStream::WriteDouble(int)’
  142 |  void WriteDouble(const Handle<Object>&, const Handle<String>&) { count += 8; }
      |       ^~~~~~~~~~~
../ext/bson.h:141:7: note: previous declaration ‘void CountStream::WriteDouble(int)’
  141 |  void WriteDouble(const Handle<Value>& value)     { count += 8; }
      |       ^~~~~~~~~~~
../ext/bson.h:145:27: error: ‘Handle’ does not name a type
  145 |  void WriteObjectId(const Handle<Object>& object, const Handle<String>& key)    { count += 12; }
      |                           ^~~~~~
../ext/bson.h:145:33: error: expected ‘,’ or ‘...’ before ‘<’ token
  145 |  void WriteObjectId(const Handle<Object>& object, const Handle<String>& key)    { count += 12; }
      |                                 ^
../ext/bson.h: In member function ‘void CountStream::WriteLengthPrefixedString(const v8::Local<v8::String>&)’:
../ext/bson.h:144:90: error: no matching function for call to ‘v8::String::Utf8Length()’
  144 |  void WriteLengthPrefixedString(const Local<String>& value) { count += value->Utf8Length()+5; }
      |                                                                                          ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note: candidate: ‘int v8::String::Utf8Length(v8::Isolate*) const’
 3217 |   int Utf8Length(Isolate* isolate) const;
      |       ^~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note:   candidate expects 1 argument, 0 provided
In file included from ../ext/bson.cc:35:
../ext/bson.h: In member function ‘void CountStream::WriteString(const v8::Local<v8::String>&)’:
../ext/bson.h:146:80: error: no matching function for call to ‘v8::String::Utf8Length()’
  146 |  void WriteString(const Local<String>& value)     { count += value->Utf8Length() + 1; } // This returns the number of bytes exclusive of the NULL terminator
      |                                                                                ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note: candidate: ‘int v8::String::Utf8Length(v8::Isolate*) const’
 3217 |   int Utf8Length(Isolate* isolate) const;
      |       ^~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note:   candidate expects 1 argument, 0 provided
In file included from ../ext/bson.cc:35:
../ext/bson.h: At global scope:
../ext/bson.h:169:23: error: ‘Handle’ does not name a type
  169 |  void WriteByte(const Handle<Object>& object, const Handle<String>& key) { *p++ = object->Get(key)->Int32Value(); }
      |                       ^~~~~~
../ext/bson.h:169:29: error: expected ‘,’ or ‘...’ before ‘<’ token
  169 |  void WriteByte(const Handle<Object>& object, const Handle<String>& key) { *p++ = object->Get(key)->Int32Value(); }
      |                             ^
../ext/bson.h:169:7: error: ‘void DataStream::WriteByte(int)’ cannot be overloaded with ‘void DataStream::WriteByte(int)’
  169 |  void WriteByte(const Handle<Object>& object, const Handle<String>& key) { *p++ = object->Get(key)->Int32Value(); }
      |       ^~~~~~~~~
../ext/bson.h:168:7: note: previous declaration ‘void DataStream::WriteByte(int)’
  168 |  void WriteByte(int value)         { *p++ = value; }
      |       ^~~~~~~~~
../ext/bson.h:179:23: error: ‘Handle’ does not name a type
  179 |  void WriteBool(const Handle<Value>& value)     { WriteByte(value->BooleanValue() ? 1 : 0); }
      |                       ^~~~~~
../ext/bson.h:179:29: error: expected ‘,’ or ‘...’ before ‘<’ token
  179 |  void WriteBool(const Handle<Value>& value)     { WriteByte(value->BooleanValue() ? 1 : 0); }
      |                             ^
../ext/bson.h:180:24: error: ‘Handle’ does not name a type
  180 |  void WriteInt32(const Handle<Value>& value)     { WriteInt32(value->Int32Value());   }
      |                        ^~~~~~
../ext/bson.h:180:30: error: expected ‘,’ or ‘...’ before ‘<’ token
  180 |  void WriteInt32(const Handle<Value>& value)     { WriteInt32(value->Int32Value());   }
      |                              ^
../ext/bson.h:180:7: error: ‘void DataStream::WriteInt32(int)’ cannot be overloaded with ‘void DataStream::WriteInt32(int32_t)’
  180 |  void WriteInt32(const Handle<Value>& value)     { WriteInt32(value->Int32Value());   }
      |       ^~~~~~~~~~
../ext/bson.h:171:7: note: previous declaration ‘void DataStream::WriteInt32(int32_t)’
  171 |  void WriteInt32(int32_t value)        { *reinterpret_cast<int32_t*>(p) = value; p += 4; }
      |       ^~~~~~~~~~
../ext/bson.h:181:24: error: ‘Handle’ does not name a type
  181 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { WriteInt32(object->Get(key)); }
      |                        ^~~~~~
../ext/bson.h:181:30: error: expected ‘,’ or ‘...’ before ‘<’ token
  181 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { WriteInt32(object->Get(key)); }
      |                              ^
../ext/bson.h:181:7: error: ‘void DataStream::WriteInt32(int)’ cannot be overloaded with ‘void DataStream::WriteInt32(int32_t)’
  181 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { WriteInt32(object->Get(key)); }
      |       ^~~~~~~~~~
../ext/bson.h:171:7: note: previous declaration ‘void DataStream::WriteInt32(int32_t)’
  171 |  void WriteInt32(int32_t value)        { *reinterpret_cast<int32_t*>(p) = value; p += 4; }
      |       ^~~~~~~~~~
../ext/bson.h:182:24: error: ‘Handle’ does not name a type
  182 |  void WriteInt64(const Handle<Value>& value)     { WriteInt64(value->IntegerValue());  }
      |                        ^~~~~~
../ext/bson.h:182:30: error: expected ‘,’ or ‘...’ before ‘<’ token
  182 |  void WriteInt64(const Handle<Value>& value)     { WriteInt64(value->IntegerValue());  }
      |                              ^
../ext/bson.h:183:25: error: ‘Handle’ does not name a type
  183 |  void WriteDouble(const Handle<Value>& value)     { WriteDouble(value->NumberValue());  }
      |                         ^~~~~~
../ext/bson.h:183:31: error: expected ‘,’ or ‘...’ before ‘<’ token
  183 |  void WriteDouble(const Handle<Value>& value)     { WriteDouble(value->NumberValue());  }
      |                               ^
../ext/bson.h:184:25: error: ‘Handle’ does not name a type
  184 |  void WriteDouble(const Handle<Object>& object, const Handle<String>& key) { WriteDouble(object->Get(key)); }
      |                         ^~~~~~
../ext/bson.h:184:31: error: expected ‘,’ or ‘...’ before ‘<’ token
  184 |  void WriteDouble(const Handle<Object>& object, const Handle<String>& key) { WriteDouble(object->Get(key)); }
      |                               ^
../ext/bson.h:184:7: error: ‘void DataStream::WriteDouble(int)’ cannot be overloaded with ‘void DataStream::WriteDouble(int)’
  184 |  void WriteDouble(const Handle<Object>& object, const Handle<String>& key) { WriteDouble(object->Get(key)); }
      |       ^~~~~~~~~~~
../ext/bson.h:183:7: note: previous declaration ‘void DataStream::WriteDouble(int)’
  183 |  void WriteDouble(const Handle<Value>& value)     { WriteDouble(value->NumberValue());  }
      |       ^~~~~~~~~~~
../ext/bson.h:187:27: error: ‘Handle’ does not name a type
  187 |  void WriteObjectId(const Handle<Object>& object, const Handle<String>& key);
      |                           ^~~~~~
../ext/bson.h:187:33: error: expected ‘,’ or ‘...’ before ‘<’ token
  187 |  void WriteObjectId(const Handle<Object>& object, const Handle<String>& key);
      |                                 ^
../ext/bson.h: In member function ‘void DataStream::WriteByte(int)’:
../ext/bson.h:169:83: error: ‘object’ was not declared in this scope
  169 |  void WriteByte(const Handle<Object>& object, const Handle<String>& key) { *p++ = object->Get(key)->Int32Value(); }
      |                                                                                   ^~~~~~
../ext/bson.h:169:95: error: ‘key’ was not declared in this scope; did you mean ‘key_t’?
  169 |  void WriteByte(const Handle<Object>& object, const Handle<String>& key) { *p++ = object->Get(key)->Int32Value(); }
      |                                                                                               ^~~
      |                                                                                               key_t
../ext/bson.h: In member function ‘void DataStream::WriteBool(int)’:
../ext/bson.h:179:61: error: ‘value’ was not declared in this scope
  179 |  void WriteBool(const Handle<Value>& value)     { WriteByte(value->BooleanValue() ? 1 : 0); }
      |                                                             ^~~~~
../ext/bson.h: In member function ‘void DataStream::WriteInt32(int)’:
../ext/bson.h:180:63: error: ‘value’ was not declared in this scope
  180 |  void WriteInt32(const Handle<Value>& value)     { WriteInt32(value->Int32Value());   }
      |                                                               ^~~~~
../ext/bson.h: In member function ‘void DataStream::WriteInt32(int)’:
../ext/bson.h:181:88: error: ‘object’ was not declared in this scope
  181 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { WriteInt32(object->Get(key)); }
      |                                                                                        ^~~~~~
../ext/bson.h:181:100: error: ‘key’ was not declared in this scope; did you mean ‘key_t’?
  181 |  void WriteInt32(const Handle<Object>& object, const Handle<String>& key) { WriteInt32(object->Get(key)); }
      |                                                                                                    ^~~
      |                                                                                                    key_t
../ext/bson.h: In member function ‘void DataStream::WriteInt64(int)’:
../ext/bson.h:182:63: error: ‘value’ was not declared in this scope
  182 |  void WriteInt64(const Handle<Value>& value)     { WriteInt64(value->IntegerValue());  }
      |                                                               ^~~~~
../ext/bson.h: In member function ‘void DataStream::WriteDouble(int)’:
../ext/bson.h:183:65: error: ‘value’ was not declared in this scope
  183 |  void WriteDouble(const Handle<Value>& value)     { WriteDouble(value->NumberValue());  }
      |                                                                 ^~~~~
../ext/bson.h: In member function ‘void DataStream::WriteDouble(int)’:
../ext/bson.h:184:90: error: ‘object’ was not declared in this scope
  184 |  void WriteDouble(const Handle<Object>& object, const Handle<String>& key) { WriteDouble(object->Get(key)); }
      |                                                                                          ^~~~~~
../ext/bson.h:184:102: error: ‘key’ was not declared in this scope; did you mean ‘key_t’?
  184 |  void WriteDouble(const Handle<Object>& object, const Handle<String>& key) { WriteDouble(object->Get(key)); }
      |                                                                                                      ^~~
      |                                                                                                      key_t
../ext/bson.h: In member function ‘void DataStream::WriteLengthPrefixedString(const v8::Local<v8::String>&)’:
../ext/bson.h:186:92: error: no matching function for call to ‘v8::String::Utf8Length()’
  186 |  void WriteLengthPrefixedString(const Local<String>& value) { WriteInt32(value->Utf8Length()+1); WriteString(value); }
      |                                                                                            ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note: candidate: ‘int v8::String::Utf8Length(v8::Isolate*) const’
 3217 |   int Utf8Length(Isolate* isolate) const;
      |       ^~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note:   candidate expects 1 argument, 0 provided
In file included from ../ext/bson.cc:35:
../ext/bson.h: In member function ‘void DataStream::WriteString(const v8::Local<v8::String>&)’:
../ext/bson.h:188:76: error: no matching function for call to ‘v8::String::WriteUtf8(char*&)’
  188 |  void WriteString(const Local<String>& value)     { p += value->WriteUtf8(p); }  // This returns the number of bytes inclusive of the NULL terminator.
      |                                                                            ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3277:7: note: candidate: ‘int v8::String::WriteUtf8(v8::Isolate*, char*, int, int*, int) const’
 3277 |   int WriteUtf8(Isolate* isolate, char* buffer, int length = -1,
      |       ^~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3277:7: note:   candidate expects 5 arguments, 1 provided
In file included from ../ext/bson.cc:35:
../ext/bson.h: At global scope:
../ext/bson.h:219:31: error: ‘Handle’ does not name a type
  219 |  void SerializeDocument(const Handle<Value>& value);
      |                               ^~~~~~
../ext/bson.h:219:37: error: expected ‘,’ or ‘...’ before ‘<’ token
  219 |  void SerializeDocument(const Handle<Value>& value);
      |                                     ^
../ext/bson.h:220:28: error: ‘Handle’ does not name a type
  220 |  void SerializeArray(const Handle<Value>& value);
      |                            ^~~~~~
../ext/bson.h:220:34: error: expected ‘,’ or ‘...’ before ‘<’ token
  220 |  void SerializeArray(const Handle<Value>& value);
      |                                  ^
../ext/bson.h:221:48: error: ‘Handle’ does not name a type
  221 |  void SerializeValue(void* typeLocation, const Handle<Value>& value);
      |                                                ^~~~~~
../ext/bson.h:221:54: error: expected ‘,’ or ‘...’ before ‘<’ token
  221 |  void SerializeValue(void* typeLocation, const Handle<Value>& value);
      |                                                      ^
../ext/bson.h:237:2: error: ‘Handle’ does not name a type
  237 |  Handle<Value> DeserializeDocument(bool promoteLongs);
      |  ^~~~~~
../ext/bson.h:262:2: error: ‘Handle’ does not name a type
  262 |  Handle<Value> DeserializeArray(bool promoteLongs);
      |  ^~~~~~
../ext/bson.h:263:2: error: ‘Handle’ does not name a type
  263 |  Handle<Value> DeserializeValue(BsonType type, bool promoteLongs);
      |  ^~~~~~
../ext/bson.h:264:2: error: ‘Handle’ does not name a type
  264 |  Handle<Value> DeserializeDocumentInternal(bool promoteLongs);
      |  ^~~~~~
../ext/bson.h:265:2: error: ‘Handle’ does not name a type
  265 |  Handle<Value> DeserializeArrayInternal(bool promoteLongs);
      |  ^~~~~~
../ext/bson.cc:42:38: error: ‘Handle’ does not name a type
   42 | void DataStream::WriteObjectId(const Handle<Object>& object, const Handle<String>& key)
      |                                      ^~~~~~
../ext/bson.cc:42:44: error: expected ‘,’ or ‘...’ before ‘<’ token
   42 | void DataStream::WriteObjectId(const Handle<Object>& object, const Handle<String>& key)
      |                                            ^
../ext/bson.cc: In member function ‘void DataStream::WriteObjectId(int)’:
../ext/bson.cc:45:2: error: ‘object’ was not declared in this scope
   45 |  object->Get(key)->ToString()->Write(buffer, 0, 12);
      |  ^~~~~~
../ext/bson.cc:45:14: error: ‘key’ was not declared in this scope; did you mean ‘key_t’?
   45 |  object->Get(key)->ToString()->Write(buffer, 0, 12);
      |              ^~~
      |              key_t
../ext/bson.cc: In member function ‘void DataStream::CheckKey(const v8::Local<v8::String>&)’:
../ext/bson.cc:65:41: error: no matching function for call to ‘v8::String::Utf8Length()’
   65 |  size_t keyLength = keyName->Utf8Length();
      |                                         ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note: candidate: ‘int v8::String::Utf8Length(v8::Isolate*) const’
 3217 |   int Utf8Length(Isolate* isolate) const;
      |       ^~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3217:7: note:   candidate expects 1 argument, 0 provided
../ext/bson.cc:71:36: error: no matching function for call to ‘v8::String::WriteUtf8(char*&)’
   71 |  keyName->WriteUtf8(keyStringBuffer);
      |                                    ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3277:7: note: candidate: ‘int v8::String::WriteUtf8(v8::Isolate*, char*, int, int*, int) const’
 3277 |   int WriteUtf8(Isolate* isolate, char* buffer, int length = -1,
      |       ^~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3277:7: note:   candidate expects 5 arguments, 1 provided
../ext/bson.cc: At global scope:
../ext/bson.cc:91:70: error: ‘Handle’ does not name a type
   91 | template<typename T> void BSONSerializer<T>::SerializeDocument(const Handle<Value>& value)
      |                                                                      ^~~~~~
../ext/bson.cc:91:76: error: expected ‘,’ or ‘...’ before ‘<’ token
   91 | template<typename T> void BSONSerializer<T>::SerializeDocument(const Handle<Value>& value)
      |                                                                            ^
../ext/bson.cc: In member function ‘void BSONSerializer<T>::SerializeDocument(int)’:
../ext/bson.cc:94:50: error: ‘value’ was not declared in this scope
   94 |  Local<Object> object = bson->GetSerializeObject(value);
      |                                                  ^~~~~
../ext/bson.cc:100:62: error: no matching function for call to ‘v8::Object::GetOwnPropertyNames()’
  100 |     Local<Array> propertyNames = object->GetOwnPropertyNames();
      |                                                              ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4127:43: note: candidate: ‘v8::MaybeLocal<v8::Array> v8::Object::GetOwnPropertyNames(v8::Local<v8::Context>)’
 4127 |   V8_WARN_UNUSED_RESULT MaybeLocal<Array> GetOwnPropertyNames(
      |                                           ^~~~~~~~~~~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4127:43: note:   candidate expects 1 argument, 0 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4136:43: note: candidate: ‘v8::MaybeLocal<v8::Array> v8::Object::GetOwnPropertyNames(v8::Local<v8::Context>, v8::PropertyFilter, v8::KeyConversionMode)’
 4136 |   V8_WARN_UNUSED_RESULT MaybeLocal<Array> GetOwnPropertyNames(
      |                                           ^~~~~~~~~~~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4136:43: note:   candidate expects 3 arguments, 0 provided
../ext/bson.cc:107:59: error: no matching function for call to ‘v8::Array::Get(int&)’
  107 |   const Local<String>& propertyName = propertyNames->Get(i)->ToString();
      |                                                           ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:110:63: error: no matching function for call to ‘v8::Object::Get(const v8::Local<v8::String>&)’
  110 |   const Local<Value>& propertyValue = object->Get(propertyName);
      |                                                               ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc: At global scope:
../ext/bson.cc:124:67: error: ‘Handle’ does not name a type
  124 | template<typename T> void BSONSerializer<T>::SerializeArray(const Handle<Value>& value)
      |                                                                   ^~~~~~
../ext/bson.cc:124:73: error: expected ‘,’ or ‘...’ before ‘<’ token
  124 | template<typename T> void BSONSerializer<T>::SerializeArray(const Handle<Value>& value)
      |                                                                         ^
../ext/bson.cc: In member function ‘void BSONSerializer<T>::SerializeArray(int)’:
../ext/bson.cc:128:42: error: ‘value’ was not declared in this scope
  128 |  Local<Array> array = Local<Array>::Cast(value->ToObject());
      |                                          ^~~~~
../ext/bson.cc:135:44: error: no matching function for call to ‘v8::Array::Get(uint32_t&)’
  135 |   SerializeValue(typeLocation, array->Get(i));
      |                                            ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc: At global scope:
../ext/bson.cc:145:87: error: ‘Handle’ does not name a type
  145 | template<typename T> void BSONSerializer<T>::SerializeValue(void* typeLocation, const Handle<Value>& value)
      |                                                                                       ^~~~~~
../ext/bson.cc:145:93: error: expected ‘,’ or ‘...’ before ‘<’ token
  145 | template<typename T> void BSONSerializer<T>::SerializeValue(void* typeLocation, const Handle<Value>& value)
      |                                                                                             ^
../ext/bson.cc: In member function ‘void BSONSerializer<T>::SerializeValue(void*, int)’:
../ext/bson.cc:147:5: error: ‘value’ was not declared in this scope
  147 |  if(value->IsNumber())
      |     ^~~~~
../ext/bson.cc:185:9: error: ‘Handle’ does not name a type
  185 |   const Handle<RegExp>& regExp = Handle<RegExp>::Cast(value);
      |         ^~~~~~
../ext/bson.cc:187:21: error: ‘regExp’ was not declared in this scope
  187 |   this->WriteString(regExp->GetSource());
      |                     ^~~~~~
../ext/bson.cc:203:39: error: no matching function for call to ‘v8::Object::Has(v8::Persistent<v8::String>&)’
  203 |   if(object->Has(bson->_bsontypeString))
      |                                       ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4042:37: note: candidate: ‘v8::Maybe<bool> v8::Object::Has(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4042 |   V8_WARN_UNUSED_RESULT Maybe<bool> Has(Local<Context> context,
      |                                     ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4042:37: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4048:37: note: candidate: ‘v8::Maybe<bool> v8::Object::Has(v8::Local<v8::Context>, uint32_t)’
 4048 |   V8_WARN_UNUSED_RESULT Maybe<bool> Has(Local<Context> context, uint32_t index);
      |                                     ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4048:37: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:206:23: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  206 |    if(bson->longString->StrictEquals(constructorString))
      |                       ^~
../ext/bson.cc:212:33: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  212 |    else if(bson->timestampString->StrictEquals(constructorString))
      |                                 ^~
../ext/bson.cc:218:32: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  218 |    else if(bson->objectIDString->StrictEquals(constructorString))
      |                                ^~
../ext/bson.cc:223:30: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  223 |    else if(bson->binaryString->StrictEquals(constructorString))
      |                              ^~
../ext/bson.cc:227:62: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  227 |     uint32_t length = object->Get(bson->_binaryPositionString)->Uint32Value();
      |                                                              ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:228:68: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  228 |     Local<Object> bufferObj = object->Get(bson->_binaryBufferString)->ToObject();
      |                                                                    ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:233:46: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  233 |     if(object->Get(bson->_binarySubTypeString)->Int32Value() == 0x02) {
      |                                              ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:239:30: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  239 |    else if(bson->doubleString->StrictEquals(constructorString))
      |                              ^~
../ext/bson.cc:244:30: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  244 |    else if(bson->symbolString->StrictEquals(constructorString))
      |                              ^~
../ext/bson.cc:247:73: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  247 |     this->WriteLengthPrefixedString(object->Get(bson->_symbolValueString)->ToString());
      |                                                                         ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:249:28: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  249 |    else if(bson->codeString->StrictEquals(constructorString))
      |                            ^~
../ext/bson.cc:251:70: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  251 |     const Local<String>& function = object->Get(bson->_codeCodeString)->ToString();
      |                                                                      ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:252:68: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  252 |     const Local<Object>& scope = object->Get(bson->_codeScopeString)->ToObject();
      |                                                                    ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:258:67: error: no matching function for call to ‘v8::Object::GetOwnPropertyNames()’
  258 |          uint32_t propertyNameLength = scope->GetOwnPropertyNames()->Length();
      |                                                                   ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4127:43: note: candidate: ‘v8::MaybeLocal<v8::Array> v8::Object::GetOwnPropertyNames(v8::Local<v8::Context>)’
 4127 |   V8_WARN_UNUSED_RESULT MaybeLocal<Array> GetOwnPropertyNames(
      |                                           ^~~~~~~~~~~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4127:43: note:   candidate expects 1 argument, 0 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4136:43: note: candidate: ‘v8::MaybeLocal<v8::Array> v8::Object::GetOwnPropertyNames(v8::Local<v8::Context>, v8::PropertyFilter, v8::KeyConversionMode)’
 4136 |   V8_WARN_UNUSED_RESULT MaybeLocal<Array> GetOwnPropertyNames(
      |                                           ^~~~~~~~~~~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4136:43: note:   candidate expects 3 arguments, 0 provided
../ext/bson.cc:265:57: error: no matching function for call to ‘v8::String::ToString()’
  265 |      this->WriteLengthPrefixedString(function->ToString());
      |                                                         ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3048:44: note: candidate: ‘v8::MaybeLocal<v8::String> v8::Value::ToString(v8::Local<v8::Context>) const’
 3048 |   V8_WARN_UNUSED_RESULT MaybeLocal<String> ToString(
      |                                            ^~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3048:44: note:   candidate expects 1 argument, 0 provided
../ext/bson.cc:272:57: error: no matching function for call to ‘v8::String::ToString()’
  272 |      this->WriteLengthPrefixedString(function->ToString());
      |                                                         ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3048:44: note: candidate: ‘v8::MaybeLocal<v8::String> v8::Value::ToString(v8::Local<v8::Context>) const’
 3048 |   V8_WARN_UNUSED_RESULT MaybeLocal<String> ToString(
      |                                            ^~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3048:44: note:   candidate expects 1 argument, 0 provided
../ext/bson.cc:275:29: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  275 |    else if(bson->dbrefString->StrictEquals(constructorString))
      |                             ^~
../ext/bson.cc:283:68: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  283 |     SerializeValue(refType, object->Get(bson->_dbRefNamespaceString));
      |                                                                    ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:287:61: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  287 |     SerializeValue(idType, object->Get(bson->_dbRefOidString));
      |                                                             ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:289:70: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  289 |     const Local<Value>& refDbValue = object->Get(bson->_dbRefDbString);
      |                                                                      ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:300:30: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  300 |    else if(bson->minKeyString->StrictEquals(constructorString))
      |                              ^~
../ext/bson.cc:304:30: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::String>’
  304 |    else if(bson->maxKeyString->StrictEquals(constructorString))
      |                              ^~
../ext/bson.cc: In member function ‘v8::Local<v8::String> BSONDeserializer::ReadCString()’:
../ext/bson.cc:361:17: error: ‘New’ is not a member of ‘v8::String’
  361 |  return String::New(start, (int32_t) (p-start-1) );
      |                 ^~~
../ext/bson.cc: In member function ‘v8::Local<v8::String> BSONDeserializer::ReadString()’:
../ext/bson.cc:396:17: error: ‘New’ is not a member of ‘v8::String’
  396 |  return String::New(start, length-1);
      |                 ^~~
../ext/bson.cc: In member function ‘v8::Local<v8::String> BSONDeserializer::ReadObjectId()’:
../ext/bson.cc:406:17: error: ‘New’ is not a member of ‘v8::String’
  406 |  return String::New(objectId, 12);
      |                 ^~~
../ext/bson.cc: At global scope:
../ext/bson.cc:409:1: error: ‘Handle’ does not name a type
  409 | Handle<Value> BSONDeserializer::DeserializeDocument(bool promoteLongs)
      | ^~~~~~
../ext/bson.cc:418:1: error: ‘Handle’ does not name a type
  418 | Handle<Value> BSONDeserializer::DeserializeDocumentInternal(bool promoteLongs)
      | ^~~~~~
../ext/bson.cc:444:1: error: ‘Handle’ does not name a type
  444 | Handle<Value> BSONDeserializer::DeserializeArray(bool promoteLongs)
      | ^~~~~~
../ext/bson.cc:453:1: error: ‘Handle’ does not name a type
  453 | Handle<Value> BSONDeserializer::DeserializeArrayInternal(bool promoteLongs)
      | ^~~~~~
../ext/bson.cc:469:1: error: ‘Handle’ does not name a type
  469 | Handle<Value> BSONDeserializer::DeserializeValue(BsonType type, bool promoteLongs)
      | ^~~~~~
../ext/bson.cc:597:8: error: ‘Handle’ does not name a type
  597 | static Handle<Value> VException(const char *msg)
      |        ^~~~~~
../ext/bson.cc: In constructor ‘BSON::BSON()’:
../ext/bson.cc:608:52: error: ‘New’ is not a member of ‘v8::String’
  608 |  _bsontypeString = Persistent<String>::New(String::New("_bsontype"));
      |                                                    ^~~
../ext/bson.cc:609:51: error: ‘New’ is not a member of ‘v8::String’
  609 |  _longLowString = Persistent<String>::New(String::New("low_"));
      |                                                   ^~~
../ext/bson.cc:610:52: error: ‘New’ is not a member of ‘v8::String’
  610 |  _longHighString = Persistent<String>::New(String::New("high_"));
      |                                                    ^~~
../ext/bson.cc:611:54: error: ‘New’ is not a member of ‘v8::String’
  611 |  _objectIDidString = Persistent<String>::New(String::New("id"));
      |                                                      ^~~
../ext/bson.cc:612:58: error: ‘New’ is not a member of ‘v8::String’
  612 |  _binaryPositionString = Persistent<String>::New(String::New("position"));
      |                                                          ^~~
../ext/bson.cc:613:57: error: ‘New’ is not a member of ‘v8::String’
  613 |  _binarySubTypeString = Persistent<String>::New(String::New("sub_type"));
      |                                                         ^~~
../ext/bson.cc:614:56: error: ‘New’ is not a member of ‘v8::String’
  614 |  _binaryBufferString = Persistent<String>::New(String::New("buffer"));
      |                                                        ^~~
../ext/bson.cc:615:55: error: ‘New’ is not a member of ‘v8::String’
  615 |  _doubleValueString = Persistent<String>::New(String::New("value"));
      |                                                       ^~~
../ext/bson.cc:616:55: error: ‘New’ is not a member of ‘v8::String’
  616 |  _symbolValueString = Persistent<String>::New(String::New("value"));
      |                                                       ^~~
../ext/bson.cc:617:52: error: ‘New’ is not a member of ‘v8::String’
  617 |  _dbRefRefString = Persistent<String>::New(String::New("$ref"));
      |                                                    ^~~
../ext/bson.cc:618:54: error: ‘New’ is not a member of ‘v8::String’
  618 |  _dbRefIdRefString = Persistent<String>::New(String::New("$id"));
      |                                                      ^~~
../ext/bson.cc:619:54: error: ‘New’ is not a member of ‘v8::String’
  619 |  _dbRefDbRefString = Persistent<String>::New(String::New("$db"));
      |                                                      ^~~
../ext/bson.cc:620:58: error: ‘New’ is not a member of ‘v8::String’
  620 |  _dbRefNamespaceString = Persistent<String>::New(String::New("namespace"));
      |                                                          ^~~
../ext/bson.cc:621:51: error: ‘New’ is not a member of ‘v8::String’
  621 |  _dbRefDbString = Persistent<String>::New(String::New("db"));
      |                                                   ^~~
../ext/bson.cc:622:52: error: ‘New’ is not a member of ‘v8::String’
  622 |  _dbRefOidString = Persistent<String>::New(String::New("oid"));
      |                                                    ^~~
../ext/bson.cc:623:52: error: ‘New’ is not a member of ‘v8::String’
  623 |  _codeCodeString = Persistent<String>::New(String::New("code"));
      |                                                    ^~~
../ext/bson.cc:624:53: error: ‘New’ is not a member of ‘v8::String’
  624 |  _codeScopeString = Persistent<String>::New(String::New("scope"));
      |                                                     ^~~
../ext/bson.cc:625:50: error: ‘New’ is not a member of ‘v8::String’
  625 |  _toBSONString = Persistent<String>::New(String::New("toBSON"));
      |                                                  ^~~
../ext/bson.cc:627:47: error: ‘New’ is not a member of ‘v8::String’
  627 |  longString = Persistent<String>::New(String::New("Long"));
      |                                               ^~~
../ext/bson.cc:628:51: error: ‘New’ is not a member of ‘v8::String’
  628 |  objectIDString = Persistent<String>::New(String::New("ObjectID"));
      |                                                   ^~~
../ext/bson.cc:629:49: error: ‘New’ is not a member of ‘v8::String’
  629 |  binaryString = Persistent<String>::New(String::New("Binary"));
      |                                                 ^~~
../ext/bson.cc:630:47: error: ‘New’ is not a member of ‘v8::String’
  630 |  codeString = Persistent<String>::New(String::New("Code"));
      |                                               ^~~
../ext/bson.cc:631:48: error: ‘New’ is not a member of ‘v8::String’
  631 |  dbrefString = Persistent<String>::New(String::New("DBRef"));
      |                                                ^~~
../ext/bson.cc:632:49: error: ‘New’ is not a member of ‘v8::String’
  632 |  symbolString = Persistent<String>::New(String::New("Symbol"));
      |                                                 ^~~
../ext/bson.cc:633:49: error: ‘New’ is not a member of ‘v8::String’
  633 |  doubleString = Persistent<String>::New(String::New("Double"));
      |                                                 ^~~
../ext/bson.cc:634:52: error: ‘New’ is not a member of ‘v8::String’
  634 |  timestampString = Persistent<String>::New(String::New("Timestamp"));
      |                                                    ^~~
../ext/bson.cc:635:49: error: ‘New’ is not a member of ‘v8::String’
  635 |  minKeyString = Persistent<String>::New(String::New("MinKey"));
      |                                                 ^~~
../ext/bson.cc:636:49: error: ‘New’ is not a member of ‘v8::String’
  636 |  maxKeyString = Persistent<String>::New(String::New("MaxKey"));
      |                                                 ^~~
../ext/bson.cc: At global scope:
../ext/bson.cc:639:6: error: variable or field ‘Initialize’ declared void
  639 | void BSON::Initialize(v8::Handle<v8::Object> target)
      |      ^~~~
../ext/bson.cc:639:27: error: ‘Handle’ is not a member of ‘v8’; did you mean ‘JobHandle’?
  639 | void BSON::Initialize(v8::Handle<v8::Object> target)
      |                           ^~~~~~
      |                           JobHandle
../ext/bson.cc:639:44: error: expected primary-expression before ‘>’ token
  639 | void BSON::Initialize(v8::Handle<v8::Object> target)
      |                                            ^
../ext/bson.cc:639:46: error: ‘target’ was not declared in this scope
  639 | void BSON::Initialize(v8::Handle<v8::Object> target)
      |                                              ^~~~~~
../ext/bson.cc:660:1: error: ‘Handle’ does not name a type
  660 | Handle<Value> BSON::New(const Arguments &args)
      | ^~~~~~
../ext/bson.cc:742:1: error: ‘Handle’ does not name a type
  742 | Handle<Value> BSON::BSONDeserialize(const Arguments &args)
      | ^~~~~~
../ext/bson.cc:828:46: error: ‘Handle’ does not name a type
  828 | Local<Object> BSON::GetSerializeObject(const Handle<Value>& argValue)
      |                                              ^~~~~~
../ext/bson.cc:828:52: error: expected ‘,’ or ‘...’ before ‘<’ token
  828 | Local<Object> BSON::GetSerializeObject(const Handle<Value>& argValue)
      |                                                    ^
../ext/bson.cc: In member function ‘v8::Local<v8::Object> BSON::GetSerializeObject(int)’:
../ext/bson.cc:830:25: error: ‘argValue’ was not declared in this scope
  830 |  Local<Object> object = argValue->ToObject();
      |                         ^~~~~~~~
../ext/bson.cc:831:30: error: no matching function for call to ‘v8::Object::Has(v8::Persistent<v8::String>&)’
  831 |  if(object->Has(_toBSONString))
      |                              ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4042:37: note: candidate: ‘v8::Maybe<bool> v8::Object::Has(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4042 |   V8_WARN_UNUSED_RESULT Maybe<bool> Has(Local<Context> context,
      |                                     ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4042:37: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4048:37: note: candidate: ‘v8::Maybe<bool> v8::Object::Has(v8::Local<v8::Context>, uint32_t)’
 4048 |   V8_WARN_UNUSED_RESULT Maybe<bool> Has(Local<Context> context, uint32_t index);
      |                                     ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4048:37: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:833:57: error: no matching function for call to ‘v8::Object::Get(v8::Persistent<v8::String>&)’
  833 |   const Local<Value>& toBSON = object->Get(_toBSONString);
      |                                                         ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, v8::Local<v8::Value>)’
 4007 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4007:43: note:   candidate expects 2 arguments, 1 provided
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Object::Get(v8::Local<v8::Context>, uint32_t)’
 4010 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Get(Local<Context> context,
      |                                           ^~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4010:43: note:   candidate expects 2 arguments, 1 provided
../ext/bson.cc:836:76: error: no matching function for call to ‘v8::Function::Call(v8::Local<v8::Object>&, int, NULL)’
  836 |   Local<Value> result = Local<Function>::Cast(toBSON)->Call(object, 0, NULL);
      |                                                                            ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4776:43: note: candidate: ‘v8::MaybeLocal<v8::Value> v8::Function::Call(v8::Local<v8::Context>, v8::Local<v8::Value>, int, v8::Local<v8::Value>*)’
 4776 |   V8_WARN_UNUSED_RESULT MaybeLocal<Value> Call(Local<Context> context,
      |                                           ^~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:4776:43: note:   candidate expects 4 arguments, 3 provided
../ext/bson.cc:838:27: error: no matching function for call to ‘v8::Value::ToObject()’
  838 |   return result->ToObject();
      |                           ^
In file included from ../ext/bson.cc:14:
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3060:44: note: candidate: ‘v8::MaybeLocal<v8::Object> v8::Value::ToObject(v8::Local<v8::Context>) const’
 3060 |   V8_WARN_UNUSED_RESULT MaybeLocal<Object> ToObject(
      |                                            ^~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/v8.h:3060:44: note:   candidate expects 1 argument, 0 provided
../ext/bson.cc: At global scope:
../ext/bson.cc:846:1: error: ‘Handle’ does not name a type
  846 | Handle<Value> BSON::BSONSerialize(const Arguments &args)
      | ^~~~~~
../ext/bson.cc:907:1: error: ‘Handle’ does not name a type
  907 | Handle<Value> BSON::CalculateObjectSize(const Arguments &args)
      | ^~~~~~
../ext/bson.cc:925:1: error: ‘Handle’ does not name a type
  925 | Handle<Value> BSON::SerializeWithBufferAndIndex(const Arguments &args)
      | ^~~~~~
../ext/bson.cc:966:1: error: ‘Handle’ does not name a type
  966 | Handle<Value> BSON::BSONDeserializeStream(const Arguments &args)
      | ^~~~~~
../ext/bson.cc:1039:17: error: variable or field ‘init’ declared void
 1039 | extern "C" void init(Handle<Object> target)
      |                 ^~~~
../ext/bson.cc:1039:22: error: ‘Handle’ was not declared in this scope
 1039 | extern "C" void init(Handle<Object> target)
      |                      ^~~~~~
../ext/bson.cc:1039:35: error: expected primary-expression before ‘>’ token
 1039 | extern "C" void init(Handle<Object> target)
      |                                   ^
../ext/bson.cc:1039:37: error: ‘target’ was not declared in this scope
 1039 | extern "C" void init(Handle<Object> target)
      |                                     ^~~~~~
In file included from ../ext/bson.cc:22:
/root/.cache/node-gyp/16.13.1/include/node/node.h:821:7: warning: cast between incompatible function types from ‘void (*)(int)’ to ‘node::addon_register_func’ {aka ‘void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)’} [-Wcast-function-type]
  821 |       (node::addon_register_func) (regfunc),                          \
      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/root/.cache/node-gyp/16.13.1/include/node/node.h:855:3: note: in expansion of macro ‘NODE_MODULE_X’
  855 |   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)
      |   ^~~~~~~~~~~~~
../ext/bson.cc:1045:1: note: in expansion of macro ‘NODE_MODULE’
 1045 | NODE_MODULE(bson, BSON::Initialize);
      | ^~~~~~~~~~~
make: *** [bson.target.mk:109: Release/obj.target/bson/ext/bson.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:194:23)
gyp ERR! stack     at ChildProcess.emit (node:events:390:28)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:290:12)
gyp ERR! System Linux 5.10.0-10-amd64
gyp ERR! command "/usr/bin/node" "/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /home/work/trove/indexer/node_modules/mongoose-tree/node_modules/bson
gyp ERR! node -v v16.13.1
gyp ERR! node-gyp -v v8.3.0
gyp ERR! not ok 
